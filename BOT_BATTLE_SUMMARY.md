# Bot Battle Implementation Summary

## 개요
TaleField에 봇 배틀 시스템을 추가하여 솔로 플레이가 가능하도록 구현했습니다.

## 구현된 기능

### 1. 봇 덱 구성 (천계 덱)
- **위치**: `data/bot-config.js`
- **내용**:
  - 무기(weapon): 천계의 검, 화염의 창, 얼음의 단검
  - 방어구(armor): 천계의 방패, 성스러운 갑옷
  - 아이템(item): 생명의 물약, 마나의 결정
  - 기적(miracle): 천벌, 치유의 기적, 암흑의 저주
- **봇 신(Shin)**: 천계의 수호자
  - 고유 기적 1: 신성한 보호막 (체력 및 마력 회복)
  - 고유 기적 2: 심판의 낙뢰 (강력한 광속성 피해)

### 2. 봇 AI 로직
- **위치**: `functions/src/bot-ai.js`
- **난이도**: EASY, NORMAL, HARD
- **AI 전략**:
  - HP가 낮을 때 회복 우선
  - 공격 성향에 따른 무기 사용
  - MP를 활용한 기적 사용
  - 무기가 없을 때 기도(Pray)
  - 대상 선택: HP가 가장 낮은 적 우선 공격

### 3. Cloud Functions
- **createBotRoom**: 봇과의 방 생성
  - 난이도 선택 가능 (EASY/NORMAL/HARD)
  - 자동으로 봇 플레이어 추가
- **executeBotTurn**: 봇의 턴 실행
  - AI 의사결정 로직 적용
  - 자동 액션 실행

### 4. UI 개선사항
- **로비 화면**:
  - 봇 배틀 섹션 추가
  - 난이도 선택 드롭다운
  - "봇과 대결하기" 버튼
- **디자인 향상**:
  - 그라디언트 배경
  - 부드러운 애니메이션
  - 개선된 카드 호버 효과
  - 현대적인 네비게이션 바

### 5. Firestore 보안 규칙
- **위치**: `firestore.rules`
- **주요 규칙**:
  - 인증된 사용자만 데이터 접근
  - 사용자는 자신의 데이터만 수정 가능
  - 매치 데이터는 Cloud Functions만 업데이트
  - 봇 설정은 관리자만 수정 가능

### 6. AI 생성 가이드라인
- **캐릭터/신(Shin) 생성**:
  - 피해: 일반 5-12, 강력 15-25, 극강 30 이하
  - MP 코스트: 일반 5-8, 강력 10-15
  - 회복: 10-20 범위 권장
  
- **성물(Artifact) 생성**:
  - 무기 공격력: 일반 5-10, 강력 12-18, 극강 20-30
  - 방어구 방어력: 경갑 3-6, 중갑 8-12, 중방패 15-25
  - 아이템 회복량: HP 10-20, MP 5-15
  - 기적 피해: 일반 8-15, 강력 20-30

## 사용 방법

### 봇과 대결하기
1. 로비 화면에서 "봇 배틀" 섹션 확인
2. 난이도 선택 (쉬움/보통/어려움)
3. "봇과 대결하기" 버튼 클릭
4. 자동으로 봇 플레이어가 추가된 방 생성
5. 자신의 신과 성물 선택 후 게임 시작

### 봇 AI 동작
- 봇의 턴이 되면 자동으로 행동 결정
- 전략적 판단을 통해 최적의 액션 선택
- 난이도에 따라 실수 확률 및 공격 성향 변화

## 기술 스택
- Firebase Cloud Functions (Node.js 20)
- Firestore (NoSQL Database)
- Firebase Authentication
- Vanilla JavaScript (ES6+)
- HTML5 & CSS3

## 향후 개선 사항
1. 더 정교한 봇 AI 전략
2. 다양한 봇 캐릭터 추가
3. 봇의 덱 커스터마이징
4. 리플레이 시스템
5. 봇 전적 통계

## 보안 고려사항
- Firestore 규칙으로 데이터 접근 제어
- Cloud Functions를 통한 게임 로직 서버 처리
- 클라이언트에서 직접 매치 데이터 수정 불가
- 봇 설정 데이터는 관리자만 접근 가능
