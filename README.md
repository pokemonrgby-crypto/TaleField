# TaleField — AI 갓필드(GodField) 마스터플랜

> 차기 지구신의 자리를 차지하기 위한 예언자들의 생존 전쟁

## 핵심 비전

사용자가 AI를 통해 창조한 **'신(神)'**과 **'성물(聖物)'**이, **'갓필드'**의 정교하고 깊이 있는 전략적 세계관 속에서 살아 움직이는 멀티플레이어 서바이벌 TCG입니다.

## 세계관

플레이어는 차기 지구신의 자리를 노리는 **'예언자'**가 되어, 태양신에게서 받은 성물(카드)을 사용해 최후의 1인이 될 때까지 생존해야 합니다. 각 예언자는 자신을 후원하는 상급신의 강력한 가호를 받으며, 그 힘으로 경쟁자들을 물리칩니다.

## 핵심 특징

### ⚡ AI 신 & 성물 생성
- **신(Shin)**: AI가 생성하는 상급신으로, 각 플레이어에게 1~2개의 강력한 '고유 기적'을 부여
- **성물(Artifact)**: AI가 생성하는 무기, 방어구, 아이템, 기적 카드
- Gemini API를 활용한 실시간 생성 시스템
- DSL 기반의 정교한 효과 시스템

### 🎮 갓필드 생존 시스템
- **공용 덱(천계 덱)**: 모든 플레이어가 제출한 7장의 성물을 섞어 공유
- **3대 자원 관리**: HP(체력), MP(마력), 金(자금)
- **속성 시스템**: 화/수/목/토/광/암/무 7대 속성 + 상성 관계
- **재앙(상태이상)**: 병, 안개, 섬광, 꿈, 먹구름 등 다양한 디버프
- **종말의 시간**: 서든데스 메커니즘으로 장기전 방지

### ⚔️ 전략적 전투 메커니즘
- **턴 행동**: 성물 사용 / 기도(Pray) / 버리기(Discard)
- **위협-방어 시스템**: 공격자와 방어자 간의 대응 구조
- **장비 슬롯**: 무기/방패/장신구 장착 시스템
- **기적 저장소**: 획득한 기적은 MP만 있으면 언제든 사용 가능
- **암속성 즉사**: 암속성 피해를 1이라도 받으면 즉시 승천(패배)

## 절대 규칙

### 플레이어 스탯 (고정)
- **HP (체력)**: 시작 40, 최대 99. 0이 되면 '승천'하며 패배
- **MP (마력)**: 시작 10, 최대 99. 기적 성물 사용에 소모
- **金 (자금)**: 시작 20, 최대 99. 거래 성물 사용에 소모

### 신(神)의 역할
- 플레이어는 게임 시작 전 AI로 생성한 '신'을 하나 선택
- 신은 스탯을 가지지 않으며, 1~2개의 강력한 '고유 기적'을 제공
- 고유 기적은 게임 시작 시 플레이어의 기적 목록에 저장됨

### 성물(聖物) 시스템
- **천계 덱**: 각 플레이어가 제출한 7장의 성물을 모두 섞어 공용 덱 구성
- **손패**: 시작 9장, 턴 종료 시 사용한 만큼 보충, 최대 18장
- **성물 종류**:
  - **무기(Weapon)**: 물리 공격, 공격력/내구도 보유, 조합 가능
  - **방어구(Armor)**: 물리 방어, 방어력 보유, 여러 장 동시 사용 가능
  - **잡화(Item)**: 회복, 버프/디버프, 거래 등 다양한 효과
  - **기적(Miracle)**: MP 소모, 획득 시 별도 저장소에 보관되어 재사용 가능

### 속성 시스템 (고정)
- **7대 속성**: 무(無), 화(火), 수(水), 목(木), 토(土), 광(光), 암(暗)
- **상성 관계**: 화↔수, 목↔토
- **광(光)**: 방어 불가 (레인보우 커튼 등으로 무속성 변경 후 방어 가능)
- **암(暗)**: 1 이상의 피해를 입으면 HP 관계없이 즉시 승천 (태양의 가호로 방어 가능)

### 턴 행동 (고정)
- **성물 사용**: 손패의 성물 1장 사용
- **기도(Pray)**: 손패에 무기가 없을 때만 가능. 턴을 넘기고 성물 1장 받기
- **버리기(Discard)**: 필요 없는 성물 버리기

### 재앙 시스템 (상태 이상)
- **병 계열**: 감기 → 열병 → 지옥병 → 천국병(매 턴 회복하지만 즉사 확률)
- **일반 재앙**: 안개, 섬광, 꿈, 먹구름 등

### 종말의 시간 (서든데스)
설정된 턴이 되면, 카드를 보충받을 때 일정 확률로 '악마'가 출현하여 방어 불가 피해

## 프로젝트 구조
- `functions/` — Firebase Cloud Functions (백엔드 로직)
  - `index.js` — AI 생성(신/성물), 방/게임 관리
  - `src/actions.js` — 게임 액션 (공격, 방어, 기도 등)
  - `src/engine.js` — 게임 엔진 (DSL 해석, 효과 처리)
- `public/` — 프론트엔드 (HTML, CSS, JavaScript)
- `docs/` — 게임 규칙 및 설계 문서
  - `rules.md` — 절대 규칙 상세 문서
  - `backend/api-spec.md` — API 명세
  - `backend/firestore-schema.json` — 데이터베이스 스키마

## 시작하기
1. Firebase 프로젝트 생성 및 설정
2. Gemini API 키 설정
3. `firebase deploy` 명령으로 배포
4. 웹 브라우저에서 접속하여 신과 성물을 생성하고 전투 시작

자세한 내용은 `docs/quickstart-firebase.md`를 참조하세요.
